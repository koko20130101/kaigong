<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>修改合同工程</title>
    <link rel="stylesheet" href="../../layuiadmin/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="../../layuiadmin/style/admin.css" media="all">
    <link rel="stylesheet" href="../../layuiadmin/style/formSelects-v4.css" media="all">
</head>
<body>
<div class="layui-fluid add-order">
    <form class="layui-form" action="" lay-filter="component-form-group">
        <div class="layui-card grid-demo">
            <div class="layui-card-header">
                产品信息
            </div>
            <div class="layui-card-body">
                <div class="layui-form-item">
                    <div class="layui-inline">
                        <label class="layui-form-label"><span class="red">*</span>合同编号：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="" placeholder="请输入" autocomplete="off" class="layui-input"
                                   value="32323">
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label"><span class="red">*</span>客户：</label>
                        <div class="layui-input-inline">
                            <select name="" lay-search="">
                                <option value="">请选择或输入客户名称</option>
                                <option value="客户1">客户1</option>
                                <option value="客户3">客户2</option>
                                <option value="客户3">客户3</option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label"><span class="red">*</span>工程名称：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="" placeholder="请输入" autocomplete="off" class="layui-input"
                                   value="33">
                        </div>
                    </div>
                    <div class="layui-inline" style="width:720px">
                        <label class="layui-form-label"><span class="red">*</span>工程地址：</label>
                        <div class="layui-input-inline" style="width:535px">
                            <input type="text" name="" placeholder="请输入" autocomplete="off" class="layui-input">
                        </div>
                        <div class="layui-form-mid layui-word-aux">
                            <a class="layui-btn layui-btn-xs layui-btn-normal" data-type="tag">标注</a>
                        </div>
                    </div>
                </div>

                <div class="layui-form-item">
                    <div class="layui-inline">
                        <label class="layui-form-label"><span class="red">*</span>联系人：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="" placeholder="请输入" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label">联系电话：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="" placeholder="请输入" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label">业务员：</label>
                        <div class="layui-input-inline">
                            <select name="" lay-search="">
                                <option value="">请选择</option>
                                <option value="100-120">100-120</option>
                                <option value="C15">120-140</option>
                                <option value="C20">140-160</option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label">身份证：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="" placeholder="请输入" autocomplete="off" class="layui-input">
                        </div>
                    </div>

                </div>
                <div class="layui-form-item">
                    <div class="layui-inline">
                        <label class="layui-form-label">供料站点：</label>
                        <div class="layui-input-inline">
                            <select name="" lay-search="">
                                <option value="">请选择</option>
                                <option value="100-120">100-120</option>
                                <option value="C15">120-140</option>
                                <option value="C20">140-160</option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label">运输距离：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="" placeholder="请输入" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label">保证金：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="" placeholder="请输入" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label">对账日：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="" placeholder="请输入" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                </div>
                <div class="layui-row my-row">
                    <div class="layui-col-md4">
                        <a type="button" class="layui-btn layui-btn-normal" id="test1">
                            <i class="layui-icon">&#xe67c;</i>上传合同PDF
                        </a>
                        <div class="default-img">
                            <img src="../../layuiadmin/images/noImg_pdf.png" alt="">
                        </div>
                    </div>
                    <div class="layui-col-md4">
                        <a type="button" class="layui-btn layui-btn-normal" id="test2">
                            <i class="layui-icon">&#xe67c;</i>授权签名图片
                        </a>
                        <div class="default-img">
                            <img src="../../layuiadmin/images/noImg.png" alt="">
                            <a href="javascript:;" class="layui-btn" data-type="show">占击查看大图</a>
                        </div>
                    </div>
                    <div class="layui-col-md4">
                        <a type="button" class="layui-btn layui-btn-normal" id="test3">
                            <i class="layui-icon">&#xe67c;</i>授权证明图片
                        </a>
                        <div class="default-img">
                            <img src="../../layuiadmin/images/noImg.png" alt="">
                            <a href="javascript:;" >占击查看大图</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="layui-card grid-demo">
            <div class="layui-card-header">
                自定义
            </div>
            <div class="layui-card-body">
                <div class="layui-form-item layui-form-text">
                    <label class="layui-form-label">付款条例</label>
                    <div class="layui-input-block">
                        <textarea name="desc" placeholder="请输入内容" class="layui-textarea"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <div class="layui-inline">
                        <label class="layui-form-label"><span class="red">*</span>下单人：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="" placeholder="请输入" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label"><span class="red">*</span>手机号码：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="" placeholder="请输入" autocomplete="off" class="layui-input">
                        </div>
                        <div class="layui-form-mid layui-word-aux">
                            <button class="layui-btn layui-btn-xs layui-btn-normal">
                                <i class="layui-icon">&#xe654;</i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="layui-card grid-demo">
            <div class="layui-card-header">
                结算选项
            </div>
            <div class="layui-card-body">
                <div class="layui-form-item">
                    <label class="layui-form-label">单价设定</label>
                    <div class="layui-input-inline">
                        <select name="" lay-search="">
                            <option value="">请选择</option>
                            <option value="">固定价</option>
                        </select>
                    </div>
                </div>
                <div class="layui-row">
                    <div class="layui-col-md6" style="padding-right:20px">
                        <b>混凝土价格</b>
                        <hr>
                        <div class="layui-form-item">
                            <label class="layui-form-label">强度等级</label>
                            <div class="layui-input-block">
                                <select name="city" xm-select="select1">
                                    <option value="10">C10</option>
                                    <option value="20">C20</option>
                                </select>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-input-block grade-selected" id="GradeSelected_1">

                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">特殊要求</label>
                                <div class="layui-input-inline">
                                    <select name="city" xm-select="select4">
                                        <option value="">选择卸料方式</option>
                                        <option value="1">不需要</option>
                                        <option value="2">需要</option>
                                    </select>
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">卸料方式</label>
                                <div class="layui-input-block">
                                    <select name="modules" lay-search="">
                                        <option value="">选择卸料方式</option>
                                        <option value="C10">C10</option>
                                        <option value="C15">C15</option>
                                        <option value="C20">C20</option>
                                        <option value="C25">C25</option>
                                    </select>
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">坍落度</label>
                                <div class="layui-input-inline">
                                    <select name="" lay-search="">
                                        <option value="">请选择</option>
                                        <option value="100-120">100-120</option>
                                        <option value="C15">120-140</option>
                                        <option value="C20">140-160</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="layui-col-md6" style="padding-left:20px;">
                        <b>沙浆价格</b>
                        <hr>
                        <div class="layui-form-item">
                            <label class="layui-form-label">强度等级</label>
                            <div class="layui-input-block">
                                <select name="city" xm-select="select2">
                                    <option value="C10">C10</option>
                                    <option value="C20">C20</option>
                                </select>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-input-block grade-selected" id="GradeSelected_2">

                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">特殊要求</label>
                                <div class="layui-input-inline">
                                    <select name="city" xm-select="select3">
                                        <option value="">选择卸料方式</option>
                                        <option value="1">不需要</option>
                                        <option value="2">需要</option>
                                    </select>
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">卸料方式</label>
                                <div class="layui-input-block">
                                    <select name="modules" lay-search="">
                                        <option value="">选择卸料方式</option>
                                        <option value="C10">C10</option>
                                        <option value="C15">C15</option>
                                        <option value="C20">C20</option>
                                        <option value="C25">C25</option>
                                    </select>
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">坍落度</label>
                                <div class="layui-input-inline">
                                    <select name="" lay-search="">
                                        <option value="">请选择</option>
                                        <option value="100-120">100-120</option>
                                        <option value="C15">120-140</option>
                                        <option value="C20">140-160</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="layui-card grid-demo">
            <div class="layui-card-header">
                业务员提成设置
            </div>
            <div class="layui-card-body">
                <div class="layui-form-item layui-form-text">
                    <div class="layui-inline">
                        <label class="layui-form-label">业务员：</label>
                        <div class="layui-input-inline">
                            <input type="text" name="" placeholder="" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label">提成方式：</label>
                        <div class="layui-input-inline">
                            <input type="radio" name="tc" value="1" title="按方量计,每方提成">
                            <div class="layui-inline">
                                <div class="layui-input-inline">
                                    <input type="text" name="" placeholder="" autocomplete="off" class="layui-input">
                                </div>
                                <div class="layui-form-dw">
                                    元
                                </div>
                            </div>
                            <input type="radio" name="tc" value="2" title="按金额计,提成比例" checked>
                            <div class="layui-inline">
                                <div class="layui-input-inline">
                                    <input type="text" name="" placeholder="" autocomplete="off" class="layui-input">
                                </div>
                                <div class="layui-form-dw">
                                    %
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
<script src="../../layuiadmin/layui/layui.js"></script>
<script>
    layui.config({
        base: '../../layuiadmin/' //静态资源所在路径
    }).extend({
        index: 'lib/index' //主入口模块
    }).use(['element', 'index', 'table', 'laydate', 'upload','formSelects'], function () {
        var $ = layui.$
                ,table = layui.table
                , element = layui.element
                , layer = layui.layer
                , laydate = layui.laydate
                , formSelects= layui.formSelects
                , upload = layui.upload;
        laydate.render({
            elem: '#Start-date'
        });
        laydate.render({
            elem: '#End-date'
        });

        //普通图片上传
        var uploadInst = upload.render({
            elem: '#test1'
            ,url: '/upload/'
            ,before: function(obj){
                //预读本地文件示例，不支持ie8
                obj.preview(function(index, file, result){
                    $('#test-upload-normal-img').attr('src', result); //图片链接（base64）
                });
            }
            ,done: function(res){
                //如果上传失败
                if(res.code > 0){
                    return layer.msg('上传失败');
                }
                //上传成功
            }
            ,error: function(){
                //演示失败状态，并实现重传
                var demoText = $('#test-upload-demoText');
                demoText.html('<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-mini demo-reload">重试</a>');
                demoText.find('.demo-reload').on('click', function(){
                    uploadInst.upload();
                });
            }
        });

        //按钮事件
        var active = {
            'tag': function(){
                layer.open({
                    type: 2
                    , title: '位置标注'
                    , content: ['../edit/layer-tagging.html']
                    , shadeClose: true
                    , area: ['95%', '90%']
                    , btn: ['确认', '关闭'] //按钮
                    , maxmin: true
                })
            },
            'show':function () {
                layer.photos({
                    photos: {
                        "title": "", //相册标题
                        "id": 123, //相册id
                        "start": 0, //初始显示的图片序号，默认0
                        "data": [   //相册包含的图片，数组格式
                            {
                                "alt": "图片名",
                                "pid": 666, //图片id
                                "src": "../../layuiadmin/images/noImg.png/", //原图地址
                                "thumb": "" //缩略图地址
                            }
                        ]
                    }
                });
            }
        };
        $('.layui-btn').on('click', function(event){
            var type = $(this).data('type');
            active[type] && active[type].call(this,$(this));
        });

        //下拉多择
        formSelects.on('select1', function(id, vals, val, isAdd, isDisabled){
            //id:           点击select的id
            //vals:         当前select已选中的值
            //val:          当前select点击的值
            //isAdd:        当前操作选中or取消
            //isDisabled:   当前选项是否是disabled
            //alert("当前选择了: " + JSON.stringify(vals));
            var template;
            $("#GradeSelected_1").empty();
            vals.forEach(function (item) {
                template = $('<div class="layui-inline grade"> ' +
                        '<label class="layui-form-label">'+ item.name +':</label> ' +
                        '<div class="layui-input-inline"> ' +
                        '<input type="text" name="" class="layui-input" value="'+ item.value +'"> ' +
                        '</div> ' +
                        '</div>');
                $("#GradeSelected_1").append(template);
            });
        }, true);
        formSelects.on('select2', function(id, vals, val, isAdd, isDisabled){
            var template;
            $("#GradeSelected_2").empty();
            vals.forEach(function (item) {
                template = $('<div class="layui-inline grade"> ' +
                        '<label class="layui-form-label">'+ item.name +':</label> ' +
                        '<div class="layui-input-inline"> ' +
                        '<input type="text" name="" class="layui-input" value="'+ item.value +'"> ' +
                        '</div> ' +
                        '</div>');
                $("#GradeSelected_2").append(template);
            });
        }, true);
        formSelects.on('select3', function(id, vals, val, isAdd, isDisabled){

        }, true);
    })
</script>
<script type="text/html" id="barDemo">
    <a class="layui-btn layui-btn-xs" lay-event="edit">明细</a>
</script>
</body>
</html>